# Concurrent

1. CAS是英文单词**Compare and Swap**的缩写，即比较并替换；CAS机制中使用了3个基本操作数：内存地址V，旧的预期值（更新前获取的值）A，要修改的新值B。更新一个变量的时候，只有当变量的预期值A和内存地址V当中的实际值相同时，才会将内存地址V对应的值修改为B。

   优点：比synchronized性能好

   缺点：

   1. CPU开销过大（反复尝试更新变量但总不成功）
   2. 不能保证代码块的原子性（只针对单一变量的原子性）
   3. ABA问题（当一个值从A变成B，又更新回A，普通CAS机制会误判通过检测，可通过引入版本号比较解决）

   底层实现：通过unsafe类，使JVM访问底层操作系统实现硬件级别的原子操作。

